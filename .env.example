# ============================================================
# 10MinuteMail API — Environment Configuration
# Copy this file to .env and fill in the values.
# ============================================================

# Application
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tenminutemail
DB_USER=tmmail
DB_PASSWORD=your_database_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_SSL=false

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=tmmail:

# JWT — CHANGE THIS IN PRODUCTION
# Must be a strong random string (min 32 characters)
JWT_SECRET=change-me-to-a-strong-random-secret-at-least-32-chars
JWT_EXPIRES_IN=600
JWT_ISSUER=10minutemail

# Encryption — CHANGE THIS IN PRODUCTION
# 32-byte hex string (64 hex characters) for AES-256-GCM
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# POP3 Settings
POP3_DEFAULT_PORT=995
POP3_CONN_TIMEOUT=10000
POP3_CMD_TIMEOUT=15000
POP3_MAX_RETRIES=3
POP3_RETRY_DELAY_MS=1000
POP3_MAX_CONCURRENT=10
POP3_TLS=true

# Rate Limiting
RATE_LIMIT_GLOBAL_MAX=100
RATE_LIMIT_GLOBAL_WINDOW=1 minute
RATE_LIMIT_CREATE_MAX=5
RATE_LIMIT_CREATE_WINDOW=1 minute
RATE_LIMIT_FETCH_MAX=30
RATE_LIMIT_FETCH_WINDOW=1 minute

# System-Generated Inbox (Mode B)
GENERATED_INBOX_DOMAIN=tmpmail.local
GENERATED_INBOX_POP3_HOST=localhost
GENERATED_INBOX_POP3_PORT=995
GENERATED_INBOX_TLS=true

# Token Settings
TOKEN_TTL_SECONDS=600
TOKEN_MAX_TTL_SECONDS=3600

# Inbox Limits
MAX_INBOXES_PER_IP=10
MAX_MESSAGE_FETCH=50
MAX_ATTACHMENT_SIZE_MB=25

# Admin API
# Pre-shared key for admin endpoints. Required for /v1/admin/* routes.
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_API_KEY=change-me-to-a-strong-admin-key

# Logging
LOG_LEVEL=info
LOG_PRETTY=true
